[
    {
        "id": "7752c8648136024e",
        "type": "function",
        "z": "2ccfb7b3fd932895",
        "name": "Your code here",
        "func": "// INPUT\n// msg from ... e.g. Home Battery Start flow\n\n// Process\nlet solution_array = [];\n\n// Add a solution per battery\nmsg.batteries.forEach(battery => {\n    solution_array.push(\n        { \n            id: battery.id,     // Battery label\n            mode: \"stop\",       // \"stop\", \"charge\", \"discharge\"\n            power: 0            // Watt\n        }); \n});\n\n// OUTPUT\nmsg.payload = solution_array\nreturn msg; // always pass original msg object",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 180,
        "wires": [
            [
                "28da15f1f12a329a"
            ]
        ]
    }
]